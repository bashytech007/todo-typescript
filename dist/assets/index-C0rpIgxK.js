(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))u(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&u(d)}).observe(document,{childList:!0,subtree:!0});function h(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function u(n){if(n.ep)return;n.ep=!0;const c=h(n);fetch(n.href,c)}})();document.addEventListener("DOMContentLoaded",()=>{function s(e){return document.getElementById(e)}function a(e,o,t){e.addEventListener(o,t)}const h=s("theme-toggle"),u=s("theme-toggle-light-icon"),n=s("theme-toggle-dark-icon"),c=s("gradient-overlay"),d=s("background-image1"),y=s("background-image2"),k=s("new-task-input"),T=s("task-list"),E=s("items-left"),I=s("all-filter"),C=s("active-filter"),x=s("completed-filter"),O=s("clear-completed");let l=[],r=null;function g(){T.innerHTML="",l.forEach((e,o)=>{const t=document.createElement("li");t.className=`task-item ${e.completed?"task-completed":""}`,t.draggable=!0,t.setAttribute("data-index",o.toString());const i=document.createElement("input");i.type="radio",i.name=`task-completion-${o}`,i.checked=e.completed,i.className="custom-radio",a(i,"change",()=>P(o));const m=document.createElement("label");m.classList.add("flex","items-center"),m.appendChild(i);const p=document.createElement("span");p.textContent=e.text,e.completed&&p.classList.add("line-through","text-gray-500"),m.appendChild(p),t.appendChild(m);const v=document.createElement("button");v.textContent="X",v.className="text-gray-500 dark:text-gray-400",a(v,"click",()=>D(o)),t.appendChild(v),a(t,"dragstart",S),a(t,"dragover",N),a(t,"drop",A),a(t,"dragenter",w),a(t,"dragleave",$),T.appendChild(t)}),F()}function S(e){r=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",r.innerHTML),r.classList.add("dragging")}function N(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function A(e){e.preventDefault();const t=e.target.closest(".task-item");if(r&&t&&r!==t){const i=parseInt(r.getAttribute("data-index")),m=parseInt(t.getAttribute("data-index")),[p]=l.splice(i,1);l.splice(m,0,p),g(),f()}r==null||r.classList.remove("dragging"),r=null}function w(e){var t;(t=e.target.closest(".task-item"))==null||t.classList.add("drag-over")}function $(e){var t;(t=e.target.closest(".task-item"))==null||t.classList.remove("drag-over")}function F(){const e=l.filter(o=>!o.completed).length;E.textContent=`${e} items left`}function M(e){l.push({text:e,completed:!1}),g(),f()}function P(e){l[e].completed=!l[e].completed,g(),f()}function D(e){l.splice(e,1),g(),f()}function q(){l=l.filter(e=>!e.completed),g(),f()}function L(e){document.querySelectorAll(".task-item").forEach(o=>{const t=e==="all"||e==="active"&&!o.classList.contains("task-completed")||e==="completed"&&o.classList.contains("task-completed")?"flex":"none";o.setAttribute("style",`display: ${t};`)})}function f(){localStorage.setItem("tasks",JSON.stringify(l))}function B(){const e=localStorage.getItem("tasks");e&&(l=JSON.parse(e),g())}function b(e){document.documentElement.classList.toggle("dark",e),u.classList.toggle("hidden",!e),n.classList.toggle("hidden",e),c.style.backgroundImage=e?"linear-gradient(to right, rgba(85, 150, 255, 0.7), rgba(172, 45, 235, 0.5))":"linear-gradient(to right, rgba(55, 16, 189, 0.4), rgba(164, 35, 149, 0.2))",d.classList.toggle("hidden",e),y.classList.toggle("hidden",!e),localStorage.setItem("theme",e?"dark":"light")}function H(){b(localStorage.getItem("theme")==="dark")}function J(){b(!document.documentElement.classList.contains("dark"))}a(k,"keydown",e=>{e.key==="Enter"&&k.value.trim()&&(M(k.value.trim()),k.value="")}),a(I,"click",()=>L("all")),a(C,"click",()=>L("active")),a(x,"click",()=>L("completed")),a(O,"click",q),h&&u&&n&&c&&d&&y&&(a(h,"click",J),H()),B()});
