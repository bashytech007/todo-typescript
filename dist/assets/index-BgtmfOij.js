(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))m(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&m(d)}).observe(document,{childList:!0,subtree:!0});function p(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerPolicy&&(c.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?c.credentials="include":n.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function m(n){if(n.ep)return;n.ep=!0;const c=p(n);fetch(n.href,c)}})();document.addEventListener("DOMContentLoaded",()=>{function a(e){return document.getElementById(e)}function o(e,s,t){e.addEventListener(s,t)}const p=a("theme-toggle"),m=a("theme-toggle-light-icon"),n=a("theme-toggle-dark-icon"),c=a("gradient-overlay"),d=a("background-image1"),y=a("background-image2"),h=a("new-task-input"),T=a("task-list"),E=a("items-left"),I=a("all-filter"),C=a("active-filter"),O=a("completed-filter"),x=a("clear-completed");let l=[],r=null;function g(){T.innerHTML="",l.forEach((e,s)=>{const t=document.createElement("li");t.className=`task-item ${e.completed?"task-completed":""}`,t.draggable=!0,t.setAttribute("data-index",s.toString());const i=document.createElement("input");i.type="radio",i.name="task-completion",i.checked=e.completed,o(i,"change",()=>$(s));const f=document.createElement("label");f.appendChild(i);const k=document.createElement("span");k.textContent=e.text,f.appendChild(k);const v=document.createElement("button");v.textContent="X",v.className="text-gray-500 dark:text-gray-400",o(v,"click",()=>D(s)),t.appendChild(f),t.appendChild(v),o(t,"dragstart",S),o(t,"dragover",A),o(t,"drop",N),o(t,"dragenter",w),o(t,"dragleave",F),T.appendChild(t)}),M()}function S(e){r=e.target,e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/html",r.innerHTML),r.classList.add("dragging")}function A(e){e.preventDefault(),e.dataTransfer.dropEffect="move"}function N(e){e.preventDefault();const t=e.target.closest(".task-item");if(r&&t&&r!==t){const i=parseInt(r.getAttribute("data-index")),f=parseInt(t.getAttribute("data-index")),[k]=l.splice(i,1);l.splice(f,0,k),g(),u()}r==null||r.classList.remove("dragging"),r=null}function w(e){var t;(t=e.target.closest(".task-item"))==null||t.classList.add("drag-over")}function F(e){var t;(t=e.target.closest(".task-item"))==null||t.classList.remove("drag-over")}function M(){const e=l.filter(s=>!s.completed).length;E.textContent=`${e} items left`}function P(e){l.push({text:e,completed:!1}),g(),u()}function $(e){l[e].completed=!l[e].completed,g(),u()}function D(e){l.splice(e,1),g(),u()}function q(){l=l.filter(e=>!e.completed),g(),u()}function L(e){document.querySelectorAll(".task-item").forEach(s=>{const t=e==="all"||e==="active"&&!s.classList.contains("task-completed")||e==="completed"&&s.classList.contains("task-completed")?"flex":"none";s.setAttribute("style",`display: ${t};`)})}function u(){localStorage.setItem("tasks",JSON.stringify(l))}function B(){const e=localStorage.getItem("tasks");e&&(l=JSON.parse(e),g())}function b(e){document.documentElement.classList.toggle("dark",e),m.classList.toggle("hidden",!e),n.classList.toggle("hidden",e),c.style.backgroundImage=e?"linear-gradient(to right, rgba(85, 150, 255, 0.7), rgba(172, 45, 235, 0.5))":"linear-gradient(to right, rgba(55, 16, 189, 0.4), rgba(164, 35, 149, 0.2))",d.classList.toggle("hidden",e),y.classList.toggle("hidden",!e),localStorage.setItem("theme",e?"dark":"light")}function H(){b(localStorage.getItem("theme")==="dark")}function J(){b(!document.documentElement.classList.contains("dark"))}o(h,"keydown",e=>{e.key==="Enter"&&h.value.trim()&&(P(h.value.trim()),h.value="")}),o(I,"click",()=>L("all")),o(C,"click",()=>L("active")),o(O,"click",()=>L("completed")),o(x,"click",q),p&&m&&n&&c&&d&&y&&(o(p,"click",J),H()),B()});
